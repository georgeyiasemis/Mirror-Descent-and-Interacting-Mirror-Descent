import numpy as np
from scipy.sparse.linalg import eigsh
A = np.eye(10)
A[1,3] = 1
A[3,1] = 1
A[5,2] = 1
A[2,5] = 1
A[9,3] = 1
A[3,9] = 1
# C = np.array([[  46/5, 99/10,  1/10,   4/5,   3/2, 67/10,  37/5, 51/10,  29/5,     4],
#     [  49/5,     8,  7/10,   7/5,   8/5, 73/10,  11/2, 57/10,  32/5, 41/10],
#     [   2/5, 81/10,  44/5,     2,  11/5,  27/5,  28/5, 63/10,     7, 47/10],
#     [  17/2, 87/10, 19/10, 21/10,  3/10,     6,  31/5, 69/10, 71/10,  14/5],
#     [  43/5, 93/10,   5/2,   1/5,  9/10, 61/10,  34/5,  15/2,  26/5,  17/5],
#     [ 17/10,  12/5,  38/5, 83/10,     9,  21/5, 49/10,  13/5, 33/10,  13/2],
#     [ 23/10,   1/2,  41/5, 89/10, 91/10,  24/5,     3,  16/5, 39/10,  33/5],
#     [ 79/10,   3/5, 13/10,  19/2, 97/10, 29/10, 31/10,  19/5,   9/2,  36/5],
#     [     1,   6/5,  47/5,  48/5,  39/5,   7/2, 37/10,  22/5,  23/5, 53/10],
#     [ 11/10,   9/5,    10, 77/10,  42/5,  18/5, 43/10,     5, 27/10, 59/10]])
#
# degs = A.sum(axis=0).T
# n = A.shape[0]
# c = np.arange(10)
# p = 2 * np.dot(c, c)
# k=4
# y = np.ones((n,k)) * 100
# y = y * np.sqrt(p / (np.tile(degs, (k,1)).T * y**2).sum())
#
# print(y)

def fun(x):
    return A @ x

if __name__ == '__main__':

    print(fun(np.ones((10,1))))
    print(eigsh(fun))
